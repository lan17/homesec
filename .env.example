# Copy to .env and fill in values. Do not commit .env.

# Preferred (simple) auth:
# DROPBOX_TOKEN="..."

# OR OAuth refresh flow (what motion_recorder uses):
DROPBOX_APP_KEY="..."
DROPBOX_APP_SECRET="..."
DROPBOX_REFRESH_TOKEN="..."

# Destination folder in Dropbox (must already exist)
DROPBOX_PATH="/front_door_camera_snapshots"

# Camera RTSP URLs
FRONT_DOOR_RTSP_URL="rtsp://user:pass@192.168.1.100:554/cam/realmonitor?channel=1&subtype=0"
# FRONT_DOOR_RTSP_SUB_URL="rtsp://user:pass@192.168.1.100:554/cam/realmonitor?channel=1&subtype=1"

# FTP (if using FTP source with anonymous=false)
# Reference these names in cameras[].source.config.username_env/password_env
FTP_USERNAME="..."
FTP_PASSWORD="..."

# VLM API
OPENAI_API_KEY="..."

# MQTT (if using MQTT notifier)
MQTT_USERNAME="..."
MQTT_PASSWORD="..."

# SendGrid email (if using sendgrid_email notifier)
SENDGRID_API_KEY="..."

# Twilio SMS (if using Twilio notifier)
TWILIO_ACCOUNT_SID="..."
TWILIO_AUTH_TOKEN="..."

# --- Telemetry logging (optional) ---
# If DB_DSN is set, the process will attempt to write structured JSON logs to Postgres.
# Run a local Postgres with: make db-up
POSTGRES_USER="telemetry"
POSTGRES_PASSWORD="telemetry"
POSTGRES_DB="telemetry"
POSTGRES_PORT="5432"

# Example (local docker):
DB_DSN="postgresql+asyncpg://telemetry:telemetry@127.0.0.1:5432/telemetry"

# Optional tuning:
# DB_LOG_LEVEL="INFO"         # only logs >= this level go to DB
# DB_LOG_QUEUE_SIZE="5000"
# DB_LOG_BATCH_SIZE="100"
# DB_LOG_FLUSH_S="1.0"
# DB_LOG_BACKOFF_INITIAL_S="1.0"
# DB_LOG_BACKOFF_MAX_S="30.0"
# DB_LOG_DROP_POLICY="drop_new"  # or "drop_oldest"

# Console formatting (stdout)
# CONSOLE_LOG_FORMAT="%(asctime)s %(levelname)s [%(camera_name)s] %(module)s:%(lineno)d %(message)s"
